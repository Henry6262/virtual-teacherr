<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="UTF-8">
  <link href="../static/css/courses-browse-ultimate-styles.css" th:href="@{/css/courses-browse-ultimate-styles.css}" rel="stylesheet">
  <link rel="stylesheet" href="../static/css/modal-browse-courses-styles.css" th:href="@{/css/modal-browse-courses-styles.css}">
  <link rel="stylesheet" href="../static/css/hover-button-styles.css" th:href="@{/css/hover-button-styles.css}">
  <link rel="stylesheet" href="../static/css/page-skeleton-styles.css" th:href="@{/css/page-skeleton-styles.css}">

  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.3.5/css/swiper.min.css'>
  <link rel="stylesheet" href="../static/css/image-slider-styles.css" th:href="@{/css/image-slider-styles.css}">

  <title>Title</title>

  <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.7.0/css/all.css' integrity='sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ' crossorigin='anonymous'>
  <script src="https://kit.fontawesome.com/4083de25cb.js" crossorigin="anonymous"></script>


  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta name="x-apple-disable-message-reformatting">
  <meta name="viewport" content="width=device-width, initial-scale=0.86, maximum-scale=3.0, minimum-scale=0.86">

</head>

<body class="body">




<header class="side-header">

  <a href="#">
    <div class="logo">
      <img th:unless="${user_is_anonymous}" class="user_image" th:src="${loggedUser.getProfilePicture()}" src="#">
      <img th:if="${user_is_anonymous}" class="user_image" th:src="${anonymous_user_picture}">

    </div>
  </a>

  <nav class="navbar-side">

    <ul>

      <li class="active"><a class="li-icons" th:href="@{/courses/browse}" href="#">
        <div  class="svg-space icons"><i class="fa-solid fa-bag-shopping icon"></i></div>Browse</a>
      </li>
      <li><a class="li-icons" href="#" th:href="@{/courses/enrolled}">
        <div  class="svg-space icons"><i class="fa-solid fa-book icon"></i></div>My Courses</a>
      </li>
      <li><a class="li-icons" href="labs.html">
        <div class="svg-space icons"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 64 80" enable-background="new 0 0 64 64" xml:space="preserve"><g><g><g><path d="M57,51H7V21h50V51z M9,49h46V23H9V49z"/></g><g><path d="M29.7,23H7V13h19.7L29.7,23z M9,21h18.1l-1.8-6H9V21z"/></g></g></g></svg></div> Labs</a>
      </li>
      <li><a th:unless="${user_is_anonymous}" class="li-icons" href="#" th:href="@{/users/profile}">
        <div class="svg-space icons"><i class="fa-solid fa-user-graduate icon"></i></div>Profile</a>

        <a th:if="${user_is_anonymous}" class="li-icons" href="#" th:href="@{/auth/login}">
          <div class="svg-space icons"><i class="fa-solid fa-user-graduate icon"></i></div>Sign In</a>
      </li>

      <li class="bottom"><a href="#">
        <div class="svg-space"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 64 80" enable-background="new 0 0 64 64" xml:space="preserve"><g><g><g><path d="M35.9,57.1h-7.8l-0.6-6.6c-1.9-0.5-3.6-1.2-5.3-2.2L17,52.5L11.5,47l4.2-5.2c-1-1.6-1.7-3.4-2.2-5.3l-6.6-0.6v-7.8     l6.6-0.6c0.5-1.8,1.2-3.6,2.2-5.3L11.5,17l5.5-5.5l5.2,4.2c1.6-1,3.4-1.7,5.3-2.2l0.6-6.6h7.8l0.6,6.6c1.9,0.5,3.6,1.2,5.3,2.2     l5.2-4.2l5.5,5.5l-4.2,5.2c1,1.6,1.7,3.4,2.2,5.3l6.6,0.6v7.8l-6.6,0.6c-0.5,1.8-1.2,3.6-2.2,5.3l4.2,5.2L47,52.5l-5.2-4.2     c-1.6,1-3.4,1.7-5.3,2.2L35.9,57.1z M29.9,55.1h4.2l0.6-6.4h0.8c2.1-0.4,4-1.2,5.8-2.4l0.6-0.4l4.9,4l3-3l-4-4.9l0.4-0.6     c1.2-1.8,2-3.7,2.4-5.8v-0.8l0.9-0.1l5.5-0.5v-4.2l-6.4-0.6v-0.8c-0.4-2.1-1.2-4-2.4-5.8L45.8,22l4-4.9l-3-3l-4.9,4l-0.6-0.4     c-1.8-1.2-3.7-2-5.8-2.4h-0.8l-0.1-0.9l-0.5-5.5h-4.2l-0.6,6.4h-0.8c-2.1,0.4-4,1.2-5.8,2.4L22,18.2l-4.9-4l-3,3l4,4.9l-0.4,0.6     c-1.2,1.8-2,3.7-2.4,5.8v0.8l-0.9,0.1l-5.5,0.5v4.2l6.4,0.6v0.8c0.4,2.1,1.2,4,2.4,5.8l0.4,0.6l-4,4.9l3,3l4.9-4l0.6,0.4     c1.8,1.2,3.7,2,5.8,2.4h0.8l0.1,0.9L29.9,55.1z"/></g><g><path d="M32,43.9c-6.6,0-11.9-5.3-11.9-11.9S25.4,20.1,32,20.1S43.9,25.4,43.9,32S38.6,43.9,32,43.9z M32,22.1     c-5.5,0-9.9,4.4-9.9,9.9s4.4,9.9,9.9,9.9s9.9-4.4,9.9-9.9S37.5,22.1,32,22.1z"/></g></g></g></svg></div> Light / Dark</a>
      </li>

    </ul>

  </nav>

</header>

<main class="main-wrapper">

  <header class="top-navbar">

    <div class="page-title">
      Course Market
    </div>

    <form class="searchbar">
      <input type="search" name="" placeholder="Search...">
      <a href="#" class="js-close-bar">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 54 67.5" version="1.1" x="0px" y="0px"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g fill="#ffffff" fill-rule="nonzero"><path d="M0.738461538,53.2615385 C1.10769231,53.6307692 1.56923077,53.8153846 2.07692308,53.8153846 C2.58461538,53.8153846 3.04615385,53.6307692 3.41538462,53.2615385 L27,29.6769231 L50.5846154,53.2615385 C50.9538462,53.6307692 51.4153846,53.8153846 51.9230769,53.8153846 C52.3846154,53.8153846 52.8923077,53.6307692 53.2615385,53.2615385 C54,52.5230769 54,51.3230769 53.2615385,50.5846154 L29.6769231,27 L53.2615385,3.41538462 C54,2.67692308 54,1.47692308 53.2615385,0.738461538 C52.5230769,-8.60422844e-16 51.3230769,-8.60422844e-16 50.5846154,0.738461538 L27,24.3230769 L3.41538462,0.738461538 C2.67692308,-2.77555756e-17 1.47692308,-2.77555756e-17 0.738461538,0.738461538 C-2.77555756e-17,1.47692308 -2.77555756e-17,2.67692308 0.738461538,3.41538462 L24.3230769,27 L0.738461538,50.5846154 C-2.77555756e-17,51.3230769 -2.77555756e-17,52.5230769 0.738461538,53.2615385 Z"/></g></g></svg>
      </a>
    </form>

    <nav class="navbar-top">

      <ul>
        <li>
          <a href="#"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" version="1.1" x="0px" y="0px" viewBox="0 0 100 125"><g transform="translate(0,-952.36218)"><path style="text-indent:0;text-transform:none;direction:ltr;block-progression:tb;baseline-shift:baseline;color:#fff;enable-background:accumulate;" d="m 71,964.36218 c -6.60369,0 -12,5.39626 -12,12 0,1.569 0.29072,3.0923 0.84375,4.4688 l -22.8125,12.6562 c -2.13154,-1.9311 -4.9437,-3.125 -8.03125,-3.125 -6.60369,0 -12,5.3963 -12,12.00002 0,6.6037 5.39631,12 12,12 3.09975,0 5.92804,-1.1803 8.0625,-3.125 l 22.8125,12.6562 c -0.5623,1.3864 -0.875,2.886 -0.875,4.4688 0,6.6037 5.39631,12 12,12 6.60369,0 12,-5.3963 12,-12 0,-6.6038 -5.39631,-12 -12,-12 -3.59539,0 -6.82772,1.6018 -9.03125,4.125 L 39.5625,1008.0497 c 0.91769,-1.6941 1.4375,-3.634 1.4375,-5.6875 0,-2.0637 -0.51137,-3.98752 -1.4375,-5.68752 l 22.40625,-12.4375 c 2.20362,2.526 5.43355,4.125 9.03125,4.125 6.60369,0 12,-5.3963 12,-12 0,-6.60374 -5.39631,-12 -12,-12 z m 0,4 c 4.44191,0 8,3.55804 8,8 0,4.442 -3.55809,8 -8,8 -4.44191,0 -8,-3.558 -8,-8 0,-4.44196 3.55809,-8 8,-8 z m -42,26 c 4.44191,0 8,3.558 8,8.00002 0,4.442 -3.55809,8 -8,8 -4.44191,0 -8,-3.558 -8,-8 0,-4.44202 3.55809,-8.00002 8,-8.00002 z m 42,26.00002 c 4.44191,0 8,3.558 8,8 0,4.4419 -3.55809,8 -8,8 -4.44191,0 -8,-3.5581 -8,-8 0,-4.442 3.55809,-8 8,-8 z" fill="#fff" fill-opacity="1" stroke="none" marker="none" visibility="visible" display="inline" overflow="visible"/></g></svg></a>
        </li>

        <li class="js-open-bar">
          <a href="#"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><g><circle fill="none" stroke="#ffffff" stroke-width="3" stroke-miterlimit="10" cx="59.1" cy="39.7" r="37.6"/><rect x="-1.7" y="80.3" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -52.2955 37.5849)" stroke="#ffffff" stroke-miterlimit="10" width="41.9" height="3.2"/></g></svg></a>
        </li>

        <li class="menu-toggle">
          <a href="#"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><g><g><path d="M4.667,82.982H95v-6.018H4.667V82.982z M4.667,52.895H95v-6.018H4.667V52.895z M4.667,19.798v6.018H95v-6.018H4.667z"/></g></g></svg></a>
        </li>

      </ul>
    </nav>
  </header>

  <section class="works smooth-in">




    <div class="blog-slider">
      <div class="blog-slider__wrp swiper-wrapper">

        <div th:each="course : ${top_three_courses}" class="blog-slider__item swiper-slide">
          <div class="blog-slider__img">

            <img id="slider-img" src="#" th:src="${course.picture}"  alt="">
          </div>
          <div class="blog-slider__content">
            <span class="blog-slider__code" th:text="${course.difficulty}"></span>
            <div class="blog-slider__title" th:text="${course.title}"></div>
            <div class="blog-slider__text" th:text="${course.description}"></div>
            <div class="invisible-info" style="display: none">
              <div class="average-rating" th:text="${course.averageRating}"></div>
              <div class="skill1" th:text="${course.skill1}"></div>
              <div class="skill2" th:text="${course.skill2}"></div>
              <div class="skill3" th:text="${course.skill3}"></div>
              <div class="starting-date" th:text="${course.startingDate}"></div>
            </div>
            <a onclick="openModal(this)" data-toggle="modal" href="#costumModal9" role="button" class="blog-slider__button course-modal-link" >Enroll</a>
          </div>
        </div>

      </div>
      <div class="blog-slider__pagination"></div>
    </div>








    <div class="browse-wrapper 1">

      <a href="#" class="arrow regular left"></a>


      <h2 class="heading">Recommended Courses</h2>
      <div class="browse-courses">

        <div th:each="course : ${courses}" class="course-element default">
          <a onclick="openModal(this)" data-toggle="modal" href="#costumModal9" role="button" class='course-modal-link'>
            <div class="course-container">
              <div class="course-image-content">
                <!--/*@thymesVar id="course" type=""*/-->
                <img class="course-image" src="#" th:src="${course.picture}">
              </div>
              <div class="course-text-content">
                <div class="name-course" th:text="${course.title}"></div>
                <div class="topic-course" th:text="${course.topic}"></div>
                <div class="difficulty-course" th:text="${course.difficulty}"></div>
                <div style="visibility: hidden; display:none" class="hidden-fields">
                  <div class="description-course" th:text="${course.description}"></div>
                  <div class="starting-date-course" th:text="${course.startingDate}"></div>
                  <div class="skill-1" th:text="${course.getSkill1()}"></div>
                  <div class="skill-2" th:text="${course.getSkill2()}"></div>
                  <div class="skill-3" th:text="${course.getSkill3()}"></div>
                </div>
              </div>
              <div class="container">
                <div class="row pt-5">
                  <div class="col-12 pt-5 text-center">
                    <small class="avg-rating" th:text="${course.averageRating}"></small>
                    <div class="review" th:rate="${course.averageRating}" rate="1"></div>
                  </div>
                </div>
              </div>
            </div>
          </a>
        </div>

      </div>

      <a href="#" class="arrow regular right"></a>

    </div>


    <div class="browse-wrapper b2">

      <a href="#" class="arrow java-arrow left"></a>


      <h2 class="heading java">Recommended Courses</h2>
      <div class="browse-courses browse-java">

        <div th:each="course : ${java_courses}" class="course-element java-course">
          <a onclick="openModal(this)" data-toggle="modal" href="#costumModal9" role="button" class='course-modal-link'>
            <div class="course-container">
              <div class="course-image-content">
                <!--/*@thymesVar id="course" type=""*/-->
                <img class="course-image" src="#" th:src="${course.picture}">
              </div>
              <div class="course-text-content">
                <div class="name-course" th:text="${course.title}"></div>
                <div class="topic-course" th:text="${course.topic}"></div>
                <div class="difficulty-course" th:text="${course.difficulty}"></div>
                <div style="visibility: hidden; display:none" class="hidden-fields">
                  <div class="description-course" th:text="${course.description}"></div>
                  <div class="starting-date-course" th:text="${course.startingDate}"></div>
                  <div class="skill-1" th:xt="${course.getSkill1()}"></div>
                  <div class="skill-2" th:text="${course.getSkill2()}"></div>
                  <div class="skill-3" th:text="${course.getSkill3()}"></div>
                </div>
              </div>
              <div class="container">
                <div class="row pt-5">
                  <div class="col-12 pt-5 text-center">
                    <small class="avg-rating" th:text="${course.averageRating}"></small>
                    <div class="review" th:rate="${course.averageRating}" rate="1"></div>
                  </div>
                </div>
              </div>
            </div>
          </a>
        </div>

      </div>

      <a href="#" class="arrow java-arrow right"></a>

    </div>


    <div class="modal-frame">
        <div class="modal-inset">
          <div class="button close"><i class="fa fa-close"></i></div>

          <div class="modal-body">

            <div class="modal-top" style="display: flex;gap: 40px;">
              <img class="modal-image" src="#">
              <h3 class="modal-title">Such Modal, Much Animate!</h3>
            </div>



            <div class="rating-div" style="text-align: left">
              <small style="color: black; font-weight: bold">Rating:</small>
              <small style="color: black" class="modal-avg-rating"></small>
            </div>

            <div class="level-div" style="text-align: left">
              <small style="font-weight: bold; color: black">Level</small>
              <small style="color: black" class="modal-level"></small>
            </div>

            <div class="date-div">
              <small style="color:black; font-weight: bold;">Starting date:</small>
              <p style="margin-top: unset" class="modal-date"></p>
            </div>

            <p class="modal-description">Nothing groundbreaking, but I hope you enjoyed <br /> the physics for the open/close animation =).</p>

            <div class="skills-container">
              <div class="skill-element">
                <div class="check"></div>
                <div class="modal-skills one"></div>
              </div>
              <div class="skill-element">
                <div class="check"></div>
                <div class="modal-skills two"></div>
              </div>
              <div class="skill-element">
                <div class="check"></div>
                <div class="modal-skills three"></div>
              </div>
            </div>


            <a href="#" onclick="enrollToCourse(this)" class="cta">
              <span>Enroll</span>
              <svg width="13px" height="10px" viewBox="0 0 13 10">
                <path d="M1,5 L11,5"></path>
                <polyline points="8 1 12 5 8 9"></polyline>
              </svg>
            </a>

          </div>
        </div>

    </div>
    <div class="modal-overlay"></div>




  </section>

  <footer>

    <nav class="footer-nav">
      <ul>
        <li>
          <a href="#"><i class="fab fa-facebook-square"></i></a>
        </li>
        <li>
          <a href="#"><i class="fab fa-dribbble-square"></i></a>
        </li>
        <li>
          <a href="#"><i class="fab fa-codepen"></i></a>
        </li>
        <li>
          <a href="#"><i class="fab fa-github-square"></i></a>
        </li>
        <li>
        </li>
      </ul>
    </nav>

  </footer>

</main>

<!-- partial -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.3.5/js/swiper.min.js'></script>

<script>

  var swiper = new Swiper('.blog-slider', {
    spaceBetween: 30,
    effect: 'fade',
    loop: true,
    mousewheel: {
      invert: false,
    },
    // autoHeight: true,
    pagination: {
      el: '.blog-slider__pagination',
      clickable: true,
    }
  });

</script>


<script>

  function enrollToCourse(e) {

    const courseTitle = e.parentElement.querySelector(".modal-title").innerHTML

    $.ajax({
      type: "POST",
      url: "/api/courses/enroll",
      dataType: 'json',
      data: {"courseTitle":courseTitle},

      success: function (data) {
        alert(`you have enrolled to course: ${courseTitle}`)
        closeModal()
      },

      error: function (data) {
        alert(`You are already enrolled to the course ${courseTitle}`)
      }

    })
  }



</script>

<script>

  const $body = $('.body');
  const $btnMenu = $('.menu-toggle');
  $btnMenu.click(function() {
    $body.toggleClass('menu-open');
  });

  const btnCloseBar = document.querySelector('.js-close-bar');
  const btnOpenBar = document.querySelector('.js-open-bar');
  const searchBar = document.querySelector('.searchbar');

  btnOpenBar.addEventListener('click', () => {
    searchBar.classList.add('bar--is-visible');
  });

  btnCloseBar.addEventListener('click', () => {
    searchBar.classList.remove('bar--is-visible');
  });

</script>



<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>


<script>

  $modal = $('.modal-frame');
  $overlay = $('.modal-overlay');

  /* Need this to clear out the keyframe classes so they dont clash with each other between ener/leave. Cheers. */
  $modal.bind('webkitAnimationEnd oanimationend msAnimationEnd animationend', function(e){
    if($modal.hasClass('state-leave')) {
      $modal.removeClass('state-leave');
    }
  });

  $('.close').on('click', function() {
    hideModal()
  });

  $('.course-modal-link').on('click', function(){
    closeModal()
  });

  function hideModal() {
    $overlay.removeClass('state-show');
    $modal.removeClass('state-appear').addClass('state-leave');
  }

  function closeModal() {
    $overlay.addClass('state-show');
    $modal.removeClass('state-leave').addClass('state-appear');
  }

  document.cookie = 'SameSite'


  const modalSelector = document.querySelector('.modal-frame')
  const modalContentSelector = document.querySelector('.modal-content')
  const bodySelector = document.querySelector('.body')
  const modalTitleSelector = document.querySelector('.modal-title')
  const modalDescriptionSelector = document.querySelector('.modal-description')
  const modalImage = document.querySelector('.modal-image')
  const courseStartingDateSelector = document.querySelector('.modal-date')
  const modalReview = document.querySelector('.modal-review')
  const modalAvg = document.querySelector('.modal-avg-rating')
  const modalLevel = document.querySelector(".modal-level")
  const modalSkill1 = document.querySelector('.one')
  const modalSkill2 = document.querySelector('.two')
  const modalSkill3 = document.querySelector('.three')



  //todo make click on background of modal, exit modal,
  // also make modal show information of clicked item

  modalSelector.addEventListener('click', function (e) {

    if (modalSelector.classList.contains('open')) {
      if (e.target === modalSelector) {
        hideModal()
      }
    }

  })

//open course modal
  function openModal(e) {

    let courseTitle;
    let courseDescription;
    let courseImage;
    let courseStartingDate
    let courseAverageRating
    let courseDifficulty;
    let courseSkill1;
    let courseSkill2;
    let courseSkill3;


    if (e.classList.contains("blog-slider__button")) { //means the button of the slider was clicked

      const elementContainer = e.offsetParent

      courseTitle = elementContainer.querySelector('.blog-slider__title')
      courseImage = elementContainer.querySelector('#slider-img')
      courseDescription = elementContainer.querySelector(".blog-slider__text")
      courseDifficulty = elementContainer.querySelector(".blog-slider__code")
      courseAverageRating = elementContainer.querySelector(".average-rating")
      courseStartingDate = elementContainer.querySelector(".starting-date")
      courseSkill1 = elementContainer.querySelector(".skill1")
      courseSkill2 = elementContainer.querySelector('.skill2')
      courseSkill3 = elementContainer.querySelector('.skill3')

    } else {


      courseTitle = e.querySelector('.name-course')
      courseDescription = e.querySelector('.description-course')
      courseImage = e.querySelector('.course-image')
      courseStartingDate = e.querySelector('.starting-date-course')
      // courseAverageRating = e.querySelector('.review')
      courseAverageRating = e.querySelector('.avg-rating')
      courseSkill1 = e.querySelector('.skill-1')
      courseSkill2 = e.querySelector('.skill-2')
      courseSkill3 = e.querySelector('.skill-3')
      courseDifficulty = e.querySelector(".difficulty-course")
    }

    modalSelector.classList.add('open')
      //set course values to modal
      modalLevel.innerHTML = courseDifficulty.innerHTML
      modalSkill1.innerHTML = courseSkill1.innerHTML
      modalSkill2.innerHTML = courseSkill2.innerHTML
      modalSkill3.innerHTML = courseSkill3.innerHTML
      modalAvg.innerHTML = courseAverageRating.innerHTML
      courseStartingDateSelector.innerHTML = courseStartingDate.innerHTML;
      modalTitleSelector.innerHTML = courseTitle.innerHTML
      modalDescriptionSelector.innerHTML = courseDescription.innerHTML
      modalImage.src = courseImage.src
      console.log('hello')

  }
</script>


<script>


  (function ($) {
    $(function () {
      $('.review').each(function(){
        getRate($(this));
      });

    });
  })(jQuery);

  function getRate(s){
    var rate = Math.round(s.attr('rate'));

    var good = 0 + rate;
    var bad = 5 - good;

    for (i = 0; i < 5; i++) {
      if(rate >= good && good){
        s.append('<i class="fas fa-star"></i>');
        good--;
      } else{
        s.append('<i class="far fa-star"></i>');
      }
    }
  }
</script>


<script>

  <!-- First Arrow Slider -->
  const courseElements = document.querySelectorAll('.course-element.default')
  const courseBrowse = document.querySelector('#browse-courses')
  const arrowWrapper = document.querySelector('.arrow-wrapper')
  const defaultRightArrow = document.querySelector('.regular.right')
  const defaultLeftArrow = document.querySelector('.regular.left')



  reset()

  function reset() {
    courseElements.forEach((element, index) => initializeCourses(element, index))
  }

  function initializeCourses(element, index) {

    if (index > 3){
      hideElement(element, 312);
    } else {
     showElement(element, index)
    }

  }

  function hideElement(element, position) {
    element.style.opacity = "0"
    element.style.zIndex = -1
    element.style.transform = `TranslateX(${ position }%)`
  }

  function showElement(element, index) {
    element.style.opacity = '1'
    element.style.zIndex = '10'
    element.style.transform = `TranslateX(${ (100 * index) + (4 * index) }%)`
  }


  defaultRightArrow.addEventListener('click', function (e) {
    e.preventDefault()
    loadNextCourses()
  })

  defaultLeftArrow.addEventListener('click', function (e) {
    e.preventDefault()
   loadPreviousCourses()
  })



  let firstElementIndex = 0
  let lastElementIndex = 3;
  let currentRowElement = 0 // 0 to 4
  const elementsToSum = 4

  const loadedLastElementIndex = courseElements.length -1
  let loadedFirstElementIndex = 0;

  const a = function () {
    courseElements.forEach((element, index) => {

      if (index > lastElementIndex) {
        hideElement(element, 312)
      }

      else if (index < firstElementIndex) {
        hideElement(element, 0)
      }

      if (index >= firstElementIndex && index <= lastElementIndex) {
        showElement(element, currentRowElement)
        currentRowElement++
      }
    })
  }

  function loadPreviousCourses() {

    let lastRowWasLoaded = false

    if (firstElementIndex - elementsToSum < 0) {

      firstElementIndex = 16
      lastElementIndex = 19
      currentRowElement = 0
      a()
    }
    else {
      firstElementIndex -= 4
      lastElementIndex -= 4
      currentRowElement = 0;
      a()
    }
  }


  function loadNextCourses() {
    //check if we can show a new row with atleast 1 course
    if (firstElementIndex + elementsToSum > courseElements.length -1){

      reset()
      firstElementIndex = 0
      lastElementIndex = 3
      return
    }

    firstElementIndex += 4;
    lastElementIndex += 4;
    currentRowElement = 0

    courseElements.forEach((element, index) =>  {

      if (index < firstElementIndex - 4) {
        return;
      }

      if (index >= firstElementIndex - elementsToSum && index < firstElementIndex) {
       hideElement(element,0)
      }
      else if (index >= firstElementIndex && index <= lastElementIndex) {
        showElement(element,currentRowElement)
        currentRowElement++
      }

    })
  }
  </script>


<script>

  const javaArrowRight = document.querySelector('.java-arrow.right')
  const javaArrowLeft = document.querySelector('.java-arrow.left')
  const javaCourseElements = document.querySelectorAll('.java-course')

  resetJavaCourses()

  function resetJavaCourses() {
    javaCourseElements.forEach(
            (element, index) => initializeJavaCourses(element, index))
  }

  function initializeJavaCourses(element, index) {

    if (index <= 3) {
      showElement(element, index)
    }
    else {
      hideElement(element, 440)
    }

  }

  javaArrowRight.addEventListener('click', function (e) {
    e.preventDefault()
    changeVisibleJavaCourses("right")
  })

  javaArrowLeft.addEventListener('click', function (e) {
    e.preventDefault()
    changeVisibleJavaCourses("left")
  })

  let firstVisibleElementIndex = 0
  let lastVisibleElementIndex = 3
  let indexLastJavaCourse = javaCourseElements.length -1
  let currentJavaElement = 0// 1 to 4

  function changeVisibleJavaCourses(arrowClicked) {

    currentJavaElement = 0

    if (arrowClicked === 'right') {
      firstVisibleElementIndex++
      lastVisibleElementIndex++

      if (lastVisibleElementIndex > indexLastJavaCourse) {
        firstVisibleElementIndex = 0;
        lastVisibleElementIndex = 3
      }

    }
    else {
      firstVisibleElementIndex--
      lastVisibleElementIndex--

      if (firstVisibleElementIndex < 0) {
        firstVisibleElementIndex = indexLastJavaCourse - 3
        lastVisibleElementIndex = indexLastJavaCourse
      }
    }


    javaCourseElements.forEach((element, index) => {

      if (index < firstVisibleElementIndex) {
        hideElement(element, 0)
        return
      }
      else if (index > lastVisibleElementIndex) {
        hideElement(element, 312)
        return;
      }

      if (index >=  firstVisibleElementIndex &&  index <= lastVisibleElementIndex) {
        showElement(element, currentJavaElement++)
      }

    })

  }

</script>



</body>
</html>